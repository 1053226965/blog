---
layout: post
author: pzc
title: innodb为什么使用B+Tree
tags: [MysQL, InnoDB]
date: 2021-01-01 00:00 +0800
toc:  true
---

## 使用场景
一般来说，业务逻辑查询数据都是查询某一范围的数据。

## 假设使用数组
有序数组的插入时间复杂度为O(n)，对于磁盘来说，如果数据量大，每次插入都伴随者大量IO，也许需要等待几十秒或者更加长的时间。

## 使用二叉树
对于内存来说，二叉树是不错的选择，但是对于磁盘来说，树的节点过高，也需要大量随机的IO，不是一种好的选择。

## 使用B-Tree
因为B-Tree非叶子节点也可以存储数据，假设要查找某一范围的数据的话，自然需要回溯树的节点，伴随者不少的随机IO，也不是很理想。

## 使用B+Tree
因为B+Tree只有叶节点才保存数据，并且叶节点通过双向链表方式组织起来的，一般来说，只需要树的高度（一般不大于4）次IO就能定位到范围起点，然后通过链表方式顺序访问页数据，此时需要的随机IO次数相对较少。